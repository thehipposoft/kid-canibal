{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/juanmanuelborigen/Desktop/HippoSoft/kid-canibal/components/PhysicsMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState, useCallback, useMemo } from 'react';\nimport Matter from 'matter-js';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\ninterface PhysicsItem {\n  id: string;\n  type: 'link' | 'image';\n  text?: string;\n  href?: string;\n  src?: string;\n  alt?: string;\n  width: number;\n  height: number;\n  color?: string; // Color pre-asignado\n}\n\ninterface ElementState {\n  id: string;\n  x: number;\n  y: number;\n  rotation: number;\n}\n\nconst COLORS = ['#C084FC', '#FBCFE8', '#818CF8', '#BEF264', '#FB923C', '#FCD34D', '#6EE7B7', '#F472B6'];\n\nconst PhysicsMenu: React.FC = () => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const engineRef = useRef<Matter.Engine | null>(null);\n  const [elements, setElements] = useState<ElementState[]>([]);\n\n  // 1. Memorizamos los items para que el color sea estático por ID\n  const physicsItems = useMemo<PhysicsItem[]>(() => [\n    { id: 'link1', type: 'link', text: 'Pay as you Go', href: '/services/pay-as-you-go', width: 140, height: 50, color: COLORS[0] },\n    { id: 'link2', type: 'link', text: 'G-Sap', href: '/services/g-sap', width: 90, height: 50, color: COLORS[1] },\n    { id: 'link3', type: 'link', text: 'Figma to Webflow', href: '/services/figma-to-webflow', width: 180, height: 50, color: COLORS[2] },\n    { id: 'logo1', type: 'image', src: '/assets/images/logo/logo.webp', alt: 'Logo Deco', width: 100, height: 100 },\n    // Agrega más aquí...\n  ], []);\n\n  const setupMatter = useCallback(() => {\n    if (!containerRef.current) return;\n\n    const { Engine, Runner, Bodies, Composite, Mouse, MouseConstraint, Events, Body } = Matter;\n\n    const engine = Engine.create();\n    engineRef.current = engine;\n    engine.gravity.y = 0; // Sin gravedad para que floten libremente\n\n    const containerWidth = containerRef.current.clientWidth;\n    const containerHeight = containerRef.current.clientHeight;\n\n    const wallThickness = 100;\n    const walls = [\n      Bodies.rectangle(containerWidth / 2, -wallThickness / 2, containerWidth, wallThickness, { isStatic: true }),\n      Bodies.rectangle(containerWidth / 2, containerHeight + wallThickness / 2, containerWidth, wallThickness, { isStatic: true }),\n      Bodies.rectangle(-wallThickness / 2, containerHeight / 2, wallThickness, containerHeight, { isStatic: true }),\n      Bodies.rectangle(containerWidth + wallThickness / 2, containerHeight / 2, wallThickness, containerHeight, { isStatic: true }),\n    ];\n\n    const bodies = physicsItems.map((item) => {\n      const x = Math.random() * containerWidth;\n      const y = Math.random() * containerHeight;\n\n      const body = Bodies.rectangle(x, y, item.width, item.height, {\n        chamfer: { radius: item.type === 'image' ? item.width / 2 : 25 },\n        restitution: 0.8,\n        frictionAir: 0.02,\n        label: item.id,\n      });\n\n      // 2. Aplicar un pequeño impulso inicial para que se muevan solos al arrancar\n      const forceMagnitude = 0.02 * body.mass;\n      Body.applyForce(body, body.position, {\n        x: (Math.random() - 0.5) * forceMagnitude,\n        y: (Math.random() - 0.5) * forceMagnitude\n      });\n\n      return body;\n    });\n\n    Composite.add(engine.world, [...walls, ...bodies]);\n\n    const mouse = Mouse.create(containerRef.current);\n    const mouseConstraint = MouseConstraint.create(engine, {\n      mouse: mouse,\n      constraint: { stiffness: 0.2, render: { visible: false } },\n    });\n    Composite.add(engine.world, mouseConstraint);\n\n    Events.on(engine, 'afterUpdate', () => {\n      setElements(bodies.map(b => ({\n        id: b.label,\n        x: b.position.x,\n        y: b.position.y,\n        rotation: b.angle,\n      })));\n    });\n\n    const runner = Runner.create();\n    Runner.run(runner, engine);\n\n    return () => {\n      Runner.stop(runner);\n      Engine.clear(engine);\n    };\n  }, [physicsItems]);\n\n  useEffect(() => {\n    const cleanup = setupMatter();\n    return () => cleanup?.();\n  }, [setupMatter]);\n\n  return (\n    <div ref={containerRef} className=\"relative w-full h-screen bg-black overflow-hidden touch-none\">\n      <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none z-0\">\n        <h1 className=\"text-white text-5xl font-bold text-center opacity-40 px-6\">\n          Crafting exquisite websites,<br />discover the art of Webflow\n        </h1>\n      </div>\n\n      {physicsItems.map((item) => {\n        const state = elements.find((el) => el.id === item.id);\n        if (!state) return null;\n\n        return (\n          <div\n            key={item.id}\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: 0,\n              width: item.width,\n              height: item.height,\n              transform: `translate3d(${state.x - item.width / 2}px, ${state.y - item.height / 2}px, 0) rotate(${state.rotation}rad)`,\n              backgroundColor: item.color || 'transparent',\n              zIndex: 10,\n            }}\n            className={`${item.type === 'link' ? 'rounded-full flex items-center justify-center border border-white/10 shadow-2xl' : ''}`}\n          >\n            {item.type === 'link' ? (\n              <Link href={item.href || '#'} className=\"w-full h-full flex items-center justify-center text-black font-bold text-xs uppercase px-4 text-center\">\n                {item.text}\n              </Link>\n            ) : (\n              <div className=\"relative w-full h-full p-2\">\n                <Image src={item.src!} alt={item.alt!} fill className=\"object-contain pointer-events-none\" />\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default PhysicsMenu;"],"names":[],"mappings":"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"}}]
}