{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/juanmanuelborigen/Desktop/HippoSoft/kid-canibal/components/PhysicsMenu.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useRef, useState, useCallback, useMemo } from 'react';\nimport Matter from 'matter-js';\nimport Image from 'next/image';\nimport Link from 'next/link';\n\ninterface PhysicsItem {\n  id: string;\n  type: 'link' | 'image';\n  text?: string;\n  href?: string;\n  src?: string;\n  alt?: string;\n  width: number;\n  height: number;\n  color?: string; // Color pre-asignado\n}\n\ninterface ElementState {\n  id: string;\n  x: number;\n  y: number;\n  rotation: number;\n}\n\nconst COLORS = ['#C084FC', '#FBCFE8', '#818CF8', '#BEF264', '#FB923C', '#FCD34D', '#6EE7B7', '#F472B6'];\n\nconst PhysicsMenu: React.FC = () => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const engineRef = useRef<Matter.Engine | null>(null);\n  const [elements, setElements] = useState<ElementState[]>([]);\n\n  // 1. Memorizamos los items para que el color sea estático por ID\n  const physicsItems = useMemo<PhysicsItem[]>(() => [\n    { id: 'link1', type: 'link', text: 'Pay as you Go', href: '/services/pay-as-you-go', width: 140, height: 50, color: COLORS[0] },\n    { id: 'link2', type: 'link', text: 'G-Sap', href: '/services/g-sap', width: 90, height: 50, color: COLORS[1] },\n    { id: 'link3', type: 'link', text: 'Figma to Webflow', href: '/services/figma-to-webflow', width: 180, height: 50, color: COLORS[2] },\n    { id: 'logo1', type: 'image', src: '/assets/images/logo/logo.webp', alt: 'Logo Deco', width: 100, height: 100 },\n    // Agrega más aquí...\n  ], []);\n\n  const setupMatter = useCallback(() => {\n    if (!containerRef.current) return;\n\n    const { Engine, Runner, Bodies, Composite, Mouse, MouseConstraint, Events, Body } = Matter;\n\n    const engine = Engine.create();\n    engineRef.current = engine;\n    engine.gravity.y = 0; // Sin gravedad para que floten libremente\n\n    const containerWidth = containerRef.current.clientWidth;\n    const containerHeight = containerRef.current.clientHeight;\n\n    const wallThickness = 100;\n    const walls = [\n      Bodies.rectangle(containerWidth / 2, -wallThickness / 2, containerWidth, wallThickness, { isStatic: true }),\n      Bodies.rectangle(containerWidth / 2, containerHeight + wallThickness / 2, containerWidth, wallThickness, { isStatic: true }),\n      Bodies.rectangle(-wallThickness / 2, containerHeight / 2, wallThickness, containerHeight, { isStatic: true }),\n      Bodies.rectangle(containerWidth + wallThickness / 2, containerHeight / 2, wallThickness, containerHeight, { isStatic: true }),\n    ];\n\n    const bodies = physicsItems.map((item) => {\n      const x = Math.random() * containerWidth;\n      const y = Math.random() * containerHeight;\n\n      const body = Bodies.rectangle(x, y, item.width, item.height, {\n        chamfer: { radius: item.type === 'image' ? item.width / 2 : 25 },\n        restitution: 0.8,\n        frictionAir: 0.02,\n        label: item.id,\n      });\n\n      // 2. Aplicar un pequeño impulso inicial para que se muevan solos al arrancar\n      const forceMagnitude = 0.02 * body.mass;\n      Body.applyForce(body, body.position, {\n        x: (Math.random() - 0.5) * forceMagnitude,\n        y: (Math.random() - 0.5) * forceMagnitude\n      });\n\n      return body;\n    });\n\n    Composite.add(engine.world, [...walls, ...bodies]);\n\n    const mouse = Mouse.create(containerRef.current);\n    const mouseConstraint = MouseConstraint.create(engine, {\n      mouse: mouse,\n      constraint: { stiffness: 0.2, render: { visible: false } },\n    });\n    Composite.add(engine.world, mouseConstraint);\n\n    Events.on(engine, 'afterUpdate', () => {\n      setElements(bodies.map(b => ({\n        id: b.label,\n        x: b.position.x,\n        y: b.position.y,\n        rotation: b.angle,\n      })));\n    });\n\n    const runner = Runner.create();\n    Runner.run(runner, engine);\n\n    return () => {\n      Runner.stop(runner);\n      Engine.clear(engine);\n    };\n  }, [physicsItems]);\n\n  useEffect(() => {\n    const cleanup = setupMatter();\n    return () => cleanup?.();\n  }, [setupMatter]);\n\n  return (\n    <div ref={containerRef} className=\"relative w-full h-screen bg-black overflow-hidden touch-none\">\n      <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none z-0\">\n        <h1 className=\"text-white text-5xl font-bold text-center opacity-40 px-6\">\n          Crafting exquisite websites,<br />discover the art of Webflow\n        </h1>\n      </div>\n\n      {physicsItems.map((item) => {\n        const state = elements.find((el) => el.id === item.id);\n        if (!state) return null;\n\n        return (\n          <div\n            key={item.id}\n            style={{\n              position: 'absolute',\n              left: 0,\n              top: 0,\n              width: item.width,\n              height: item.height,\n              transform: `translate3d(${state.x - item.width / 2}px, ${state.y - item.height / 2}px, 0) rotate(${state.rotation}rad)`,\n              backgroundColor: item.color || 'transparent',\n              zIndex: 10,\n            }}\n            className={`${item.type === 'link' ? 'rounded-full flex items-center justify-center border border-white/10 shadow-2xl' : ''}`}\n          >\n            {item.type === 'link' ? (\n              <Link href={item.href || '#'} className=\"w-full h-full flex items-center justify-center text-black font-bold text-xs uppercase px-4 text-center\">\n                {item.text}\n              </Link>\n            ) : (\n              <div className=\"relative w-full h-full p-2\">\n                <Image src={item.src!} alt={item.alt!} fill className=\"object-contain pointer-events-none\" />\n              </div>\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default PhysicsMenu;"],"names":[],"mappings":"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"}}]
}